(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["p-PageLeave-vue"],{1874:function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("p",[e._v(" You opened this page "),t("strong",{staticClass:"text-strong"},[e._v(e._s(e.pageTime))]),e._v(" seconds ago ")])},o=[],s={name:"PageTimer",data(){return{openTime:new Date,pageTime:0}},mounted(){this.updatePageTime()},activated(){this.updatePageTime()},deactivated(){this.clearPageTimer()},beforeDestroy(){this.clearPageTimer()},methods:{calcPageTime(){this.pageTime=Math.floor((new Date-this.openTime)/1e3)},updatePageTime(){this.calcPageTime(),this.clearPageTimer(),this.pageTimer=setInterval(this.calcPageTime,1e3)},clearPageTimer(){clearInterval(this.pageTimer)}}},i=s,n=a("2877"),l=Object(n["a"])(i,r,o,!1,null,null,null);t["a"]=l.exports},"5e6b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("h2",[e._v("Page exit confirmation")]),t("page-timer"),t("p",[e._v("The page will confirm the prompt when the tab is closed/refreshed/replaced.")]),t("p",[t("a",{staticClass:"demo-btn",on:{click:function(t){return e.$tabs.refresh(null,!0,!1)}}},[e._v("Refresh tab")]),t("a",{staticClass:"demo-btn",on:{click:function(t){return e.$tabs.close({force:!1})}}},[e._v("Close tab")]),t("router-link",{staticClass:"demo-btn",attrs:{to:"?id="+(+(e.$route.query.id||0)+1)}},[e._v("Replace tab")]),t("router-link",{staticClass:"demo-btn",attrs:{to:"/default/page/1"}},[e._v("Leave route")]),t("a",{staticClass:"demo-btn",on:{click:e.reload}},[e._v("Refresh browser")])],1)],1)},o=[],s=a("1874"),i={name:"PageLeave",components:{PageTimer:s["a"]},beforePageLeave(e,t){if("unload"===t)return`Your changes on the "${e.title}" tab have not been completed. Do you want to leave?`;const a={close:"close",refresh:"refresh",replace:"replace",leave:"leave"}[t],r=`您确认要${a}页签“${e.title}”吗？`;return new Promise((e,t)=>{confirm(r)?e():t(`You rejected to ${a} tab`)})},methods:{reload(){location.reload()}}},n=i,l=a("2877"),c=Object(l["a"])(n,r,o,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=p-PageLeave-vue.ebadaf4d.js.map