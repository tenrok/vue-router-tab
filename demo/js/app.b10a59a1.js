(function(t){function e(e){for(var n,r,o=e[0],l=e[1],u=e[2],c=0,h=[];c<o.length;c++)r=o[c],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&h.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=l(l.s=a[0]))}return t}var n={},r={app:0},s={app:0},i=[];function o(t){return l.p+"js/"+({"p-404-vue":"p-404-vue","p-I18n-vue":"p-I18n-vue","p-IframeOperate-vue":"p-IframeOperate-vue","p-Nest-vue":"p-Nest-vue","p-Page-vue":"p-Page-vue","p-Page1-vue":"p-Page1-vue","p-Page2-vue":"p-Page2-vue","p-PageLeave-vue":"p-PageLeave-vue","p-Rule-vue":"p-Rule-vue","p-ScrollAsync-vue":"p-ScrollAsync-vue","p-ScrollMulti-vue":"p-ScrollMulti-vue","p-ScrollPosition-vue":"p-ScrollPosition-vue","p-TabDynamic-vue":"p-TabDynamic-vue"}[t]||t)+"."+{"p-404-vue":"0663c680","p-I18n-vue":"6034d5b4","p-IframeOperate-vue":"54f145c0","p-Nest-vue":"4556cba8","p-Page-vue":"27c13f77","p-Page1-vue":"96d9774c","p-Page2-vue":"786c07f0","p-PageLeave-vue":"ebadaf4d","p-Rule-vue":"714a22e6","p-ScrollAsync-vue":"d0ae4b1a","p-ScrollMulti-vue":"b1a4463b","p-ScrollPosition-vue":"546cfdd4","p-TabDynamic-vue":"9bcb03c2"}[t]+".js"}function l(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"p-404-vue":1,"p-IframeOperate-vue":1,"p-Nest-vue":1,"p-Page-vue":1,"p-Rule-vue":1,"p-ScrollAsync-vue":1,"p-ScrollMulti-vue":1,"p-ScrollPosition-vue":1,"p-TabDynamic-vue":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({"p-404-vue":"p-404-vue","p-I18n-vue":"p-I18n-vue","p-IframeOperate-vue":"p-IframeOperate-vue","p-Nest-vue":"p-Nest-vue","p-Page-vue":"p-Page-vue","p-Page1-vue":"p-Page1-vue","p-Page2-vue":"p-Page2-vue","p-PageLeave-vue":"p-PageLeave-vue","p-Rule-vue":"p-Rule-vue","p-ScrollAsync-vue":"p-ScrollAsync-vue","p-ScrollMulti-vue":"p-ScrollMulti-vue","p-ScrollPosition-vue":"p-ScrollPosition-vue","p-TabDynamic-vue":"p-TabDynamic-vue"}[t]||t)+"."+{"p-404-vue":"685f4349","p-I18n-vue":"31d6cfe0","p-IframeOperate-vue":"72272e5c","p-Nest-vue":"18d6b49b","p-Page-vue":"72272e5c","p-Page1-vue":"31d6cfe0","p-Page2-vue":"31d6cfe0","p-PageLeave-vue":"31d6cfe0","p-Rule-vue":"052c155d","p-ScrollAsync-vue":"526fd83c","p-ScrollMulti-vue":"526fd83c","p-ScrollPosition-vue":"526fd83c","p-TabDynamic-vue":"d853fa8f"}[t]+".css",s=l.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===n||c===s))return e()}var h=document.getElementsByTagName("style");for(o=0;o<h.length;o++){u=h[o],c=u.getAttribute("data-href");if(c===n||c===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[t],d.parentNode.removeChild(d),a(i)},d.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){r[t]=0})));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=i);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=o(t);var h=new Error;u=function(e){c.onerror=c.onload=null,clearTimeout(d);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",h.name="ChunkLoadError",h.type=n,h.request=r,a[1](h)}s[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(e)},l.m=t,l.c=n,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(a,n,function(e){return t[e]}.bind(null,n));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00d4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{on:{"iframe-mounted":t.iframeMounted,"iframe-loaded":t.iframeLoaded}})},r=[],s={methods:{iframeMounted(t,e){console.log("iframe-mounted:",t,e.contentWindow)},iframeLoaded(t,e){console.log("iframe-loaded:",t,e.contentWindow)}}},i=s,o=a("2877"),l=Object(o["a"])(i,n,r,!1,null,null,null);e["default"]=l.exports},"02dd":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{class:{"is-fullscreen":t.fullscreen},scopedSlots:t._u([{key:"start",fn:function(){return[e("router-link",{staticClass:"tab-slot-icon rt-icon-home",attrs:{to:"/slot/",title:"首页"}})]},proxy:!0},{key:"end",fn:function(){return[e("a",{staticClass:"tab-slot-icon",class:t.fullscreen?"rt-icon-fullscreen-exit":"rt-icon-fullscreen",attrs:{title:t.fullscreen?"退出全屏":"全屏"},on:{click:function(e){t.fullscreen=!t.fullscreen}}})]},proxy:!0},{key:"default",fn:function(a){return[a.icon?e("i",{staticClass:"router-tab__item-icon",class:a.icon}):t._e(),e("span",{staticClass:"router-tab__item-title",attrs:{title:a.tips}},[t._v(t._s(a.title))]),e("span",{staticClass:"tab-badge"},[t._v(t._s(a.index))]),a.closable?e("i",{staticClass:"router-tab__item-close",on:{click:function(t){return t.preventDefault(),a.close.apply(null,arguments)}}}):t._e()]}}])})},r=[],s=a("89cb"),i={mixins:[s["a"]]},o=i,l=(a("5cd9"),a("2877")),u=Object(l["a"])(o,n,r,!1,null,"4a7ae592",null);e["default"]=u.exports},"0d3e":function(t,e,a){"use strict";a.r(e),e["default"]={tab:{untitled:"无标题"},contextmenu:{refresh:"刷新",refreshAll:"刷新全部",close:"关闭",closeLefts:"关闭左侧",closeRights:"关闭右侧",closeOthers:"关闭其他"},msg:{keepLastTab:"至少应保留1个页签",i18nProp:"请提供“i18n”方法以处理国际化内容"}}},"0faf":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{"page-scroller":".router-tab__container",tabs:["/page-scroller/page/1","/page-scroller/scroll-position","/page-scroller/scroll-multi","/page-scroller/scroll-async"]}})},r=[],s=a("2877"),i={},o=Object(s["a"])(i,n,r,!1,null,null,null);e["default"]=o.exports},"10ab":function(t,e,a){"use strict";a("9183")},"110d":function(t,e,a){"use strict";a.r(e),e["default"]={tab:{untitled:"Без названия"},contextmenu:{refresh:"Обновить",refreshAll:"Обновить все",close:"Закрыть",closeLefts:"Закрыть слева",closeRights:"Закрыть справа",closeOthers:"Закрыть другие",pin:"Прикрепить",unpin:"Открепить"},msg:{keepLastTab:"Оставьте хотя бы 1 вкладку",i18nProp:'Метод "i18n" не определён в экземпляре'}}},"124c":function(t,e,a){"use strict";a("173b")},"173b":function(t,e,a){},"1a5d":function(t,e,a){var n={"./404.vue":["8cdb","p-404-vue"],"./I18n.vue":["e172","p-I18n-vue"],"./IframeOperate.vue":["ccdb","p-IframeOperate-vue"],"./Nest.vue":["0c8c","p-Nest-vue"],"./Page.vue":["2048","p-Page-vue"],"./Page1.vue":["2b0b","p-Page1-vue"],"./Page2.vue":["223d","p-Page2-vue"],"./PageLeave.vue":["5e6b","p-PageLeave-vue"],"./Rule.vue":["2dd9","p-Rule-vue"],"./ScrollAsync.vue":["838e","p-ScrollAsync-vue"],"./ScrollMulti.vue":["181c","p-ScrollMulti-vue"],"./ScrollPosition.vue":["fabb","p-ScrollPosition-vue"],"./TabDynamic.vue":["7b6a","p-TabDynamic-vue"]};function r(t){if(!a.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],r=e[0];return a.e(e[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id="1a5d",t.exports=r},"1e27":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{contextmenu:t.contextMenu,"contextmenu-pinned":t.contextMenuPinned,"use-inheritance":"",tabs:t.tabs,"allow-pin":"","allow-close-pinned":!1,"hide-title-pinned":""},on:{"on-drop-alive":t.onDropAlive,"on-pin":t.onPin,"on-unpin":t.onUnpin},scopedSlots:t._u([{key:"divider",fn:function(){return[e("div",{staticClass:"pin-divider"})]},proxy:!0}])})},r=[],s={name:"Default",data(){return{contextMenu:[{id:"refresh",icon:"fas fa-sync-alt"},"refreshAll",{id:"close",icon:"fas fa-times"},"closeLefts","closeRights","closeOthers","pin"],contextMenuPinned:[{id:"refresh",icon:"fas fa-sync-alt"},"refreshAll",{id:"close",icon:"fas fa-times"},{id:"unpin",icon:"fa-solid fa-thumbtack"}],tabs:["/default/page/1",{to:"/default/page/2",title:"kavo",pinned:!0,nodrag:!0,unpinnable:!1,closable:!1}]}},methods:{onDropAlive(t){console.log("on-drop-alive",t)},onPin(t){console.log("on-pin",t)},onUnpin(t){console.log("on-unpin",t)}}},i=s,o=(a("b07d"),a("2877")),l=Object(o["a"])(i,n,r,!1,null,"013474ca",null);e["default"]=l.exports},"316d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{reuse:""}})},r=[],s=a("2877"),i={},o=Object(s["a"])(i,n,r,!1,null,null,null);e["default"]=o.exports},3416:function(t,e,a){},3888:function(t,e,a){},"38a6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{i18n:t.i18n,tabs:t.tabs}})},r=[],s=a("2b0e"),i={name:"LangCustom",data(){return{currentLang:"en",langs:{en:{i18n:"I18n Page",page:"Page {0}"},zh:{i18n:"国际化页面",page:"页面 {0}"}},tabs:["/i18n/lang",{to:"/i18n/page/1",title:["page",1]},{to:"/i18n/page/2",title:["page",2]}]}},computed:{lang(){return this.langs[this.currentLang]||this.langs.en}},beforeCreate(){s["a"].prototype.$lang={set:t=>{this.currentLang=t},get:()=>this.currentLang,list:()=>Object.keys(this.langs)}},destroyed(){s["a"].prototype.$lang=null},methods:{i18n(t,e){let a=this.lang[t];return a?a.replace(/(\{(\d+)\})/g,(t,a,n)=>e[n]||""):t}}},o=i,l=a("2877"),u=Object(l["a"])(o,n,r,!1,null,null,null);e["default"]=u.exports},"3dec":function(t,e,a){"use strict";a.r(e),e["default"]={tab:{untitled:"Untitled"},contextmenu:{refresh:"Refresh",refreshAll:"Refresh All",close:"Close",closeLefts:"Close to the Left",closeRights:"Close to the Right",closeOthers:"Close Others",pin:"Pin",unpin:"Unpin"},msg:{keepLastTab:"Keep at least 1 tab",i18nProp:'Method "i18n" is not defined on the instance'}}},"40d7":function(t,e,a){},4440:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{tabs:t.tabs}})},r=[],s={name:"InitialTabs",data(){return{tabs:["/initial-tabs/page-leave",{to:"/initial-tabs/tab-dynamic",title:"Dynamic tab",closable:!1},{to:"/initial-tabs/page/1",title:"Page1"},{to:{path:"/initial-tabs/page/2",query:{t:2}},title:"Page2"},{to:"/initial-tabs/page/2?t=1",title:"Page2-1"},`/initial-tabs/iframe/${encodeURIComponent("https://cn.vuejs.org")}/Vue.js/rt-icon-web`]}}},i=s,o=a("2877"),l=Object(o["a"])(i,n,r,!1,null,null,null);e["default"]=l.exports},"48f6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{restore:t.restoreKey,"restore-watch":""}})},r=[],s={data(){return{restoreKey:void 0}},mounted(){setTimeout(()=>{this.restoreKey="12312312"},1e3*Math.random())}},i=s,o=a("2877"),l=Object(o["a"])(i,n,r,!1,null,null,null);e["default"]=l.exports},"4ccb":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{class:{"is-fullscreen":t.fullscreen},attrs:{contextmenu:t.contextmenu}})},r=[],s=a("89cb"),i={mixins:[s["a"]],computed:{contextmenu(){return["refresh",{id:"close",icon:"rt-icon-close"},{id:"closeOthers",handler({$menu:t}){t.closeMulti(t.others),alert("关闭其他页签")}},{id:"custom",title:"自定义操作",tips:"这是一个自定义操作",icon:"rt-icon-doc",class:"custom-action",visible(t){return t.$tabs.items.length<3},enable(t){return!(t.data.index%2)},handler(){alert("这是自定义操作，请打开控制台查看输出参数")}},{id:"fullscreen",title:()=>this.fullscreen?"退出全屏":"全屏",icon:()=>this.fullscreen?"rt-icon-fullscreen-exit":"rt-icon-fullscreen",handler:()=>setTimeout(()=>{this.fullscreen=!this.fullscreen},300)}]}}},o=i,l=a("2877"),u=Object(l["a"])(o,n,r,!1,null,null,null);e["default"]=u.exports},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),r=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"router-tab"},[e("header",{ref:"header",staticClass:"router-tab__header"},[e("div",{staticClass:"router-tab__slot-start"},[t._t("start")],2),t.allowPin?e("div",[e("div",{class:["router-tab__pinned",{"router-tab__pinned-alone":1===t.pinnedGroup.length}]},[e("transition-group",t._b({staticClass:"router-tab__nav",attrs:{tag:"ul"},on:{"after-enter":t.onTabTrans,"after-leave":t.onTabTrans}},"transition-group",t.tabTrans,!1),t._l(t.pinnedGroup,(function(a){return e("tab-item",{key:a.id||a.to,ref:"tab",refInFor:!0,attrs:{data:a,index:t.items.indexOf(a)},nativeOn:{contextmenu:function(e){return e.preventDefault(),(e=>t.showContextmenu(a.id,a.pinned,t.items.indexOf(a),e)).apply(null,arguments)}}})})),1)],1)]):t._e(),e("transition",{attrs:{name:"router-tab__slot-divider_trans"}},[t.allowPin&&t.commonGroup.length>0?t._t("divider"):t._e()],2),e("tab-scroll",{ref:"scroll"},[e("transition-group",t._b({staticClass:"router-tab__nav",attrs:{tag:"ul"},on:{"after-enter":t.onTabTrans,"after-leave":t.onTabTrans}},"transition-group",t.tabTrans,!1),t._l(t.commonGroup,(function(a){return e("tab-item",{key:a.id||a.to,ref:"tab",refInFor:!0,attrs:{data:a,index:t.items.indexOf(a)},nativeOn:{contextmenu:function(e){return e.preventDefault(),(e=>t.showContextmenu(a.id,a.pinned,t.items.indexOf(a),e)).apply(null,arguments)}}})})),1)],1),e("div",{staticClass:"router-tab__slot-end"},[t._t("end")],2)],1),e("div",{staticClass:"router-tab__container"},[e("router-alive",{attrs:{"page-class":"router-tab-page","keep-alive":t.keepAlive,reuse:t.reuse,max:t.maxAlive,transition:t.pageTrans,"page-scroller":t.pageScroller},on:{ready:t.onAliveReady,change:t.onAliveChange}}),e("transition-group",t._b({staticClass:"router-tab__iframes",attrs:{tag:"div"}},"transition-group",t.pageTrans,!1),t._l(t.iframes,(function(a){return e("iframe",{directives:[{name:"show",rawName:"v-show",value:a===t.currentIframe,expression:"url === currentIframe"}],key:a,staticClass:"router-tab__iframe",attrs:{src:a,name:t.iframeNamePrefix+a,frameborder:"0"},on:{load:function(e){return t.iframeLoaded(a)}}})})),0)],1),e("transition",{attrs:{name:"router-tab-zoom"}},[!1!==t.contextmenu&&t.contextData.index>-1?e("tab-contextmenu",{attrs:{data:t.contextData,menu:t.contextMenu,"menu-pinned":t.contextMenuPinned}}):t._e()],1)],1)},s=[];a("14d9");const i=Object.create(null);function o(t,e){if(t.length){const a=t.indexOf(e);if(a>-1)return t.splice(a,1)}}function l({wrap:t,left:e=0,top:a=0,smooth:n=!0}){t&&(t.scrollTo?t.scrollTo({left:e,top:a,behavior:n?"smooth":"auto"}):(t.scrollLeft=e,t.scrollTop=a))}function u({el:t,wrap:e,block:a="start",inline:n="nearest"}){if(t&&e)if(t.scrollIntoView)t.scrollIntoView({behavior:"smooth",block:a,inline:n});else{let r,s,{offsetLeft:i,offsetTop:o}=t;s="center"===a?o+(t.clientHeight-e.clientHeight)/2:o,r="center"===n?i+(t.clientWidth-e.clientWidth)/2:i,l({wrap:e,left:r,top:s})}}const c=function(){let t=null;return function(){if(null!==t)return t;const e=document.createElement("div");return e.style.cssText="width: 100px; height: 100px;overflow-y: scroll",document.body.appendChild(e),t=e.offsetWidth-e.clientWidth,e.parentElement.removeChild(e),t}}();function h(t,e,a){const n={},r=(e,r)=>{null!==r&&"object"===typeof r||(r={default:r});const{default:s,alias:i}=r;n[i||e]=function(){const n=this[t][e];return a&&"function"===typeof n?n(this[a]):void 0!==s&&void 0===n?"function"===typeof s?s.bind(this)():s:n}};return Array.isArray(e)?e.forEach(t=>r(t)):Object.entries(e).forEach(([t,e])=>r(t,e)),n}const d=t=>t.split("#")[0];function p(t){return"string"===typeof t?{name:t}:t}function f(t){return t.$vnode.componentOptions.Ctor.cid}var m={data(){return{contextData:{id:null,index:-1,left:0,top:0}}},computed:{contextMenu(){return Array.isArray(this.contextmenu)?this.contextmenu:void 0},contextMenuPinned(){return Array.isArray(this.contextmenuPinned)&&this.contextmenuPinned.length>0?this.contextmenuPinned:void 0}},watch:{$route(){this.hideContextmenu()},onDragSort(){this.hideContextmenu()}},mounted(){document.addEventListener("click",this.contextmenuClickOutSide)},destroyed(){document.removeEventListener("click",this.contextmenuClickOutSide)},methods:{async showContextmenu(t,e,a,n){null!==t&&null!==this.contextData.id&&(this.hideContextmenu(),await this.$nextTick());let{clientY:r,clientX:s}=n||i;Object.assign(this.contextData,{id:t,pinned:e,index:a,top:r,left:s})},hideContextmenu(){this.showContextmenu(null,-1)},contextmenuClickOutSide(t){t.target!==this.$el.querySelector(".router-tab-contextmenu")&&this.hideContextmenu()}}};a("13d5");const b=a("b13e");var v=b.keys().reduce((t,e)=>{let[,a]=/\.\/(.*).js/g.exec(e);return t[a]=b(e).default,t},{});a("d9e2");const g="[Vue Router Tab]";function y(t,e){t||"undefined"!==typeof console&&console.warn(`${g} ${e}`)}var x={computed:{langs(){let{lang:t}=this;return"auto"===t&&(t=(navigator.language||navigator.userLanguage).substr(0,2)),"string"===typeof t&&(t=v[t]),t||(t=v["en"]),t}},methods:{i18nText(t){let{key:e,params:a}=this.i18nParse(t);if(e){const t="function"===typeof this.i18n;if(this._hasI18nPropWarn||(y(t,this.langs.msg.i18nProp),this._hasI18nPropWarn=!0),t)return this.i18n(e,a)}return t},i18nParse(t){let e,a;if("string"===typeof t){const n=/^i18n:([^\s]+)$/.exec(t);n&&(e=n[1],a=[])}else Array.isArray(t)&&([e,...a]=t);return{key:e,params:a}}}},P={data(){return{iframes:[],currentIframe:null,iframeNamePrefix:"RouterTabIframe-"}},methods:{getIframePath(t,e=null,a=null){let n=(this.basePath+"/iframe/").replace(/\/+/g,"/")+encodeURIComponent(t);return e&&(n+="/"+e,a&&(n+="/"+a)),n},openIframe(t,e,a){let n=this.getIframePath(t,e,a);this.$router.push(n)},closeIframe(t){let e=this.getIframePath(t);this.close({path:e,match:!1})},refreshIframe(t){let e=this.getIframePath(t);this.refresh(e,!1)},getIframeEl(t){const e=this.iframeNamePrefix+t;return document.getElementsByName(e)[0]},iframeMounted(t){const e=this.getIframeEl(t);this.$emit("iframe-mounted",t,e)},iframeLoaded(t){const e=this.getIframeEl(t);this.$emit("iframe-loaded",t,e)}}};function _(t){t=Array.from(t);let e=t.length,a=t[0];if(e){if(!a||"object"!==typeof a||a.name||a.fullPath||a.params||a.query||a.hash){let[e,a]=t;return{path:e,to:a}}return a}return{}}function T(t,e){const a=/\/$/;return t.replace(a,"")===e.replace(a,"")}var $={methods:{async open(t,e=!1,a=!0,n=!1){let{items:r}=this;const s=this.activeTabId,i=this.getRouteKey(t),o=T(s,i);"sameTab"===a&&(a=o),a&&this.refresh(t,!1);try{await this.$router[e?"replace":"push"](t),this.useInheritance&&n&&!e&&(r.find(t=>t.id===i||t.to===i).parentPath=s)}catch(l){}finally{o&&this.reload()}},async removeTab(t,e=!1){let{items:a}=this;const n=a.findIndex(e=>e.id===t);if(!e&&this.keepLastTab&&1===a.length)throw new Error(this.langs.msg.keepLastTab);e||await this.leavePage(t,"close"),this.$alive.remove(t),n>-1&&a.splice(n,1)},async close(){let t,{id:e,path:a,match:n=!0,force:r=!0,to:s,refresh:i=!1}=_(arguments),{activeTabId:o,items:l}=this;if(e||!a||(e=this.getIdByPath(a,n),e)){e||(e=o);try{const a=l.findIndex(t=>t.id===e);if(l[a]&&l[a].parentPath&&(t=l[a].parentPath),await this.removeTab(e,r),null===s)return;if(o===e){if(!s&&(s=t),!s||!l.find(t=>t.id===s||t.to===s)){let t=l[a]||l[a-1];s=t?t.to:this.defaultPath}s&&this.open(s,!0,!1!==i||"sameTab")}}catch(u){y(!1,u)}}},async closeTab(t=this.activeTabId,e,a=!1){this.close({id:t,to:e,force:a})},refresh(t,e=!0,a=!0){let n=t&&this.getIdByPath(t,e)||void 0;this.refreshTab(n,a)},async refreshTab(t=this.activeTabId,e=!1){try{e||await this.leavePage(t,"refresh"),this.$alive.refresh(t)}catch(a){y(!1,a)}},async refreshAll(t=!1){const{cache:e}=this.$alive;for(const n in e)try{t||await this.leavePage(n,"refresh"),this.$alive.refresh(n)}catch(a){}},reset(t=this.defaultPath){this.items.forEach(({id:t})=>this.$alive.remove(t)),this.clearTabsStore(),this.initTabs(),this.open(t,!0,!0)}}};const w=t=>(e,a,n)=>{const{$tabs:r}=t.app;if(!r)return void n();const s=r.getRouteKey(a),o=r.getRouteKey(e),{$alive:l}=r,u=l&&l.cache[s],{alivePath:c}=l&&l.cache[o]||i,h=r.matchRoute(e);let d,p;c&&c!==h.alivePath?(p="replace",d=o):l.basePath!==h.basePath?(p="leave",d=r.activeTabId):u||s===o||(p="leave",d=r.activeTabId),p?r.leavePage(d,p).then(n).catch(()=>n(!1)):n()};var O={created(){const{$router:t}=this;t._RouterTabInit||(t.beforeEach(w(t)),t._RouterTabInit=!0)},methods:{async leavePage(t,e){const a=this.items.find(e=>e.id===t);let{vm:n}=this.$alive.cache[t]||i;if(!n&&this.activeTabId===t)try{n=this.$route.matched[this.$alive.routeMatch.routeIndex].instances.default}catch(s){n=null}if(!n||!a)return;const r=n.$vnode.componentOptions.Ctor.options.beforePageLeave;return"function"===typeof r?r.bind(n)(a,e):void 0}}},k=a("63ae");const S=(t=200)=>(e,a,n)=>{const r=n.value;let s=null;n.value=function(...e){let a=this;clearTimeout(s),s=setTimeout(()=>{r.call(a,...e)},t)}};var C,I,D={watch:{activeTabId:{async handler(){this.$el&&(await this.$nextTick(),this.adjust())},immediate:!0}},mounted(){window.addEventListener("resize",this.adjust)},destroyed(){window.removeEventListener("resize",this.adjust)},methods:(C=S(),I={adjust(){if(!this.$el)return;const{scroll:t}=this.$refs,e=this.$el.querySelector(".router-tab__item.is-active");t&&e&&!t.isInView(e)&&t.scrollIntoView(e),this.hideContextmenu()},onTabTrans(){this.adjust()}},Object(k["a"])(I,"adjust",[C],Object.getOwnPropertyDescriptor(I,"adjust"),I),I)},L={computed:{restoreKey(){const{restore:t,basePath:e}=this;if(!t||"undefined"===typeof sessionStorage)return"";let a="RouterTab:restore:"+e;return"string"===typeof t&&(a+=":"+t),a}},mounted(){window.addEventListener("beforeunload",this.saveTabs)},destroyed(){window.removeEventListener("beforeunload",this.saveTabs)},watch:{restoreKey(){if(this.restoreWatch){const{activeTab:t}=this;this.initTabs(),this.activeTab||this.items.push(t)}}},methods:{saveTabs(){this.restoreKey&&sessionStorage.setItem(this.restoreKey,JSON.stringify(this.items))},clearTabsStore(){this.restoreKey&&sessionStorage.removeItem(this.restoreKey)},restoreTabs(){if(!this.restoreKey)return!1;let t=sessionStorage.getItem(this.restoreKey),e=!1;try{t=JSON.parse(t),Array.isArray(t)&&t.length&&(e=!0,this.presetTabs(t))}catch(a){}return e}}},R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"router-alive",on:{drop:function(e){return t.onDrop(e)},dragover:function(e){return e.preventDefault(),t.onDragOver(e)},dragenter:function(t){t.preventDefault()}}},[e("transition",t._b({attrs:{appear:""},on:{"after-enter":t.onTrans,"after-leave":t.onTrans}},"transition",t.pageTrans,!1),[e("keep-alive",{attrs:{max:t.max}},[t.alive&&!t.onRefresh?e("router-view",t._g({key:t.key,ref:"page",class:t.pageClass,on:{"page-loaded":t.onPageLoaded}},t.hooks)):t._e()],1)],1),e("transition",t._b({attrs:{appear:""},on:{"after-enter":t.onTrans,"after-leave":t.onTrans}},"transition",t.pageTrans,!1),[t.alive||t.onRefresh?t._e():e("router-view",{key:t.key,ref:"page",class:t.pageClass})],1)],1)},j=[],A={path:t=>t.path,fullpath:t=>d(t.fullPath)};function E(t,e,a){const n=e.path;if(!a)return n;if("string"===typeof a){const e=A[a.toLowerCase()];return e?e(t):a}return"function"===typeof a?E(t,e,a(t)):n}function M(t,e){return Object.entries(e).reduce((t,[e,a])=>t.replace(":"+e,a),t)}class W{constructor(t,e){this.vm=t,this.$route=e}set $route(t){if(t&&!t.matched){const{$router:e}=this.vm;t=e.match(t,e.currentRoute)}this._$route=t}get $route(){return this._$route||this.vm.$route}get routeIndex(){return this.vm.routeIndex}get route(){return this.$route.matched[this.routeIndex]}get basePath(){if(this.routeIndex<1)return"/";const t=this.$route.matched[this.routeIndex-1]||{},{path:e}=t;return e&&M(e,this.$route.params)||"/"}get alivePath(){const{$route:t}=this;return this.nest?M(this.route.path,t.params):d(t.fullPath)}get meta(){const{route:t,vm:{$nuxt:e}}=this;if(e)try{const{meta:t=[]}=e.context.route,a=t[this.routeIndex];if(a&&Object.keys(a).length)return a}catch(a){console.error(a)}return t&&t.meta||{}}get nest(){return this.$route.matched.length>this.routeIndex+1}get key(){return this.route?E(this.$route,this.route,this.meta.key):""}get alive(){const{keepAlive:t}=this.meta;return"boolean"===typeof t?t:this.vm.keepAlive}get reusable(){const{reuse:t}=this.meta;return"boolean"===typeof t?t:this.vm.reuse}}const N=["created","mounted","activated","deactivated","destroyed"],B="RouterTabDragSortIndex:";var U={name:"RouterAlive",inject:["onTabEvent"],provide(){return{RouterAlive:this}},props:{keepAlive:{type:Boolean,default:!1},reuse:{type:Boolean,default:!1},max:{type:Number,default:0},pageClass:{type:[Array,Object,String],default:"router-alive-page"},pageScroller:{type:String,default:""},transition:{type:[String,Object]}},data(){return this.cache={},{routeMatch:new W(this),routeIndex:this.getRouteIndex(),onRefresh:!1}},computed:{...h("routeMatch",["key","meta","nest","alive","reusable","basePath","alivePath"]),hooks(){return N.reduce((t,e)=>(t["hook:"+e]=()=>this.pageHook(e),t),{})},pageTrans(){return p(this.transition)}},watch:{$route:{handler(t,e){if(e||this.$emit("ready",this),!t.matched.length)return;const{key:a,alive:n,reusable:r,alivePath:s,nest:i}=this,o=this.cache[a]||{};let{alivePath:l,fullPath:u,vm:c}=o;if(l&&!r&&l!==s&&(l="",this.refresh(a)),i&&c&&t.fullPath!==u){const t=this.matchRoute(e).key;t!==a&&(this.nestForceUpdate=!0)}const h=l?"update":"create";this.$emit("change",h,this.routeMatch),n&&(o.fullPath=t.fullPath)},immediate:!0}},mounted(){this.$refs.alive=this._vnode.children[0].child._vnode.componentInstance},destroyed(){this.cache=null,this.routeMatch=null,this._match=null,this.$refs.alive=null},methods:{onDragOver(t){t.dataTransfer.dropEffect="link"},onDrop(t){const{items:e}=this.$tabs,a=t.dataTransfer.getData("text");if("string"!==typeof a||!a.startsWith(B))return;const n=a.replace(B,""),r=e[n];this.onTabEvent("drop-alive",{$tabs:this.$tabs,data:r})},getRouteIndex(){let t=this,e=-1;while(t&&e<0){const{data:a}=t.$vnode||{};a&&a.routerView?e=a.routerViewDepth:t=t.$parent}return e+1},remove(t=this.key){const e=this.$refs.alive;if(!e)return;const a=this.cache[t],{cache:n,keys:r}=e;a&&(a.vm.$destroy(),a.vm=null,this.cache[t]=null),Object.entries(n).find(([e,a])=>{var s;const i=null===a||void 0===a?void 0:a.componentInstance;if((null===i||void 0===i||null===(s=i.$vnode)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.key)===t)return i.$destroy(),n[e]=null,o(r,e),!0})},refresh(t=this.key){this.remove(t),t===this.key&&this.reload()},reload(){this.onRefresh||(this.onRefresh=!0)},pageHook(t){const e=this["pageHook:"+t];"function"===typeof e&&e()},"pageHook:created"(){this.cache[this.key]={alivePath:this.alivePath,fullPath:this.$route.fullPath}},"pageHook:mounted"(){this.cache[this.key].vm=this.$refs.page,this.resetScrollPosition()},"pageHook:activated"(){const t=this.$refs.page;this.checkHotReloading()||(this.nestForceUpdate&&(delete this.nestForceUpdate,t.$forceUpdate()),this.restoreScrollPosition())},"pageHook:deactivated"(){this.checkHotReloading()||this.saveScrollPosition()},async"pageHook:destroyed"(){await this.$nextTick(),this.cache&&Object.entries(this.cache).forEach(([t,e])=>{const{vm:a}=e||{};a&&a._isDestroyed&&this.remove(t)})},onTrans(){this.onRefresh&&(this.onRefresh=!1,this.$emit("change","create",this.routeMatch))},matchRoute(t){const e=this._match;return t===this.$route||t.fullPath===this.$route.fullPath||t===this.$route.fullPath?this.routeMatch:e?(e.$route=t,e):this._match=new W(this,t)},checkHotReloading(){const t=this.$refs.page,e=t._lastCtorId,a=t._lastCtorId=f(t);return!(!e||e===a)&&(this.refresh(),!0)},getScroller(t){return t.startsWith("$")?document.querySelector(t.replace(/^\$/,"")):this.$el.querySelector(t)},saveScrollPosition(){const t=this.$refs.page;if(!t)return;let{pageScroller:e}=t.$vnode.componentOptions.Ctor.options;"string"===typeof e&&e.length&&(e=e.split(/\s?,\s?/)),Array.isArray(e)||(e=[]),e.push("."+this.pageClass),this.pageScroller&&e.push("$"+this.pageScroller);const a=e.reduce((t,e)=>{const a=this.getScroller(e);return a&&(t[e]={left:a.scrollLeft,top:a.scrollTop}),t},{});t._pageScrollPosition=a},restoreScrollPosition(){const t=this.$refs.page,e=null===t||void 0===t?void 0:t._pageScrollPosition;e&&Object.entries(e).forEach(([t,e])=>{const a=this.getScroller(t);a&&(a.scrollLeft=e.left,a.scrollTop=e.top)})},resetScrollPosition(){if(!this.pageScroller)return;const t=this.getScroller("$"+this.pageScroller);t&&(t.scrollLeft=0,t.scrollTop=0)},async onPageLoaded(){await this.$nextTick(),this.restoreScrollPosition()}}},K=U,V=a("2877"),H=Object(V["a"])(K,R,j,!1,null,null,null),q=H.exports;const F="RouterTabDragSortIndex:";let z=null;var G={name:"TabItem",inject:["$tabs","allowDragPinned","allowClosePinned","hideTitlePinned"],props:{data:{type:Object,required:!0},index:Number},data(){return{onDragSort:!1,isDragOver:!1}},computed:{...h("data",["id","to","icon","tabClass","target","href","nodrag","pinned"]),classList(){return["router-tab__item",this.tabClass,{"is-active":this.$tabs.activeTabId===this.id,"is-closable":this.closable,"is-contextmenu":this.$tabs.contextData.id===this.id,"is-drag-over":this.isDragOver&&!this.onDragSort}]},i18nText(){return this.$tabs.i18nText},untitled(){return this.$tabs.langs.tab.untitled},title(){return this.i18nText(this.data.title)||this.untitled},tips(){return this.i18nText(this.data.tips||this.data.title)||this.untitled},closable(){const{keepLastTab:t,items:e}=this.$tabs;return(!this.pinned||this.allowClosePinned)&&!1!==this.data.closable&&!(t&&e.length<2)},unpinnable(){return 0!=this.data.unpinnable}},methods:{slotTitle(){const t=this.$createElement,{title:e}=this.$tabs.$scopedSlots;return e?e(this):t("span",{class:"router-tab__item-title",attrs:{title:this.tips}},[this.title])},slotDefault(){const t=this.$createElement,e=this.pinned&&this.hideTitlePinned?null:this.slotTitle();return[this.icon&&t("i",{class:["router-tab__item-icon",this.icon]}),e,this.closable&&t("i",{class:"router-tab__item-close",on:{click:t=>(t.preventDefault(),t.stopPropagation(),this.close(t))}})]},close(){this.$tabs.closeTab(this.id)},onDragStart(t){this.onDragSort=this.$tabs.onDragSort=!0,z=F+this.index,t.dataTransfer.setData("text",z),t.dataTransfer.effectAllowed="all"},onDragOver(t){const{items:e}=this.$tabs,a=t.dataTransfer.getData("text")||z;if(this.isDragOver=!1,"string"!==typeof a||!a.startsWith(F))return;const n=a.replace(F,""),r=e[n];this.isDragOver=!0,this.nodrag||r.pinned!==this.pinned?t.dataTransfer.dropEffect="none":t.dataTransfer.dropEffect="move"},onDragEnd(){this.onDragSort=this.$tabs.onDragSort=!1,z=null},onDrop(t){const{items:e}=this.$tabs,a=t.dataTransfer.getData("text")||z;if(this.isDragOver=!1,"string"!==typeof a||!a.startsWith(F))return;const n=a.replace(F,""),r=e[n];r.pinned===this.pinned&&(e.splice(n,1),e.splice(this.index,0,r))}},render(){const t=arguments[0],{default:e=this.slotDefault}=this.$tabs.$scopedSlots;return t("RouterLink",{attrs:{custom:!0,to:this.to},scopedSlots:{default:({navigate:a})=>t("li",{class:this.classList,attrs:{draggable:this.$tabs.dragsort&&!this.nodrag&&(!this.pinned||this.allowDragPinned)},on:{click:a,dragstart:!this.nodrag&&this.onDragStart,dragend:!this.nodrag&&this.onDragEnd,dragover:t=>(t.preventDefault(),this.onDragOver(t)),dragleave:t=>(t.preventDefault(),(()=>this.isDragOver=!1)()),drop:t=>(t.stopPropagation(),t.preventDefault(),(!this.nodrag&&this.onDrop)(t)),mouseup:t=>"button"in t&&1!==t.button?null:(()=>this.closable&&(!this.pinned||this.allowClosePinned)&&this.close())()}},[e(this)])}})}},X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"router-tab__scroll",on:{wheel:function(e){return e.preventDefault(),t.onWheel.apply(null,arguments)},mouseenter:t.update}},[e("div",{ref:"container",staticClass:"router-tab__scroll-container",class:{"is-mobile":t.isMobile},on:{scroll:t.update}},[t._t("default")],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasScroller,expression:"hasScroller"}],ref:"bar",staticClass:"router-tab__scrollbar",class:{"is-dragging":t.dragData}},[e("div",{ref:"thumb",staticClass:"router-tab__scrollbar-thumb",style:{width:t.thumbWidth+"px",transform:`translateX(${t.thumbLeft}px`},on:{mousedown:function(e){return e.preventDefault(),t.onDragStart.apply(null,arguments)}}})])])},J=[],Y={name:"TabScroll",props:{space:{type:Number,default:300}},data(){return{isMobile:!1,scrollData:{clientWidth:0,scrollWidth:0,scrollLeft:0},dragData:null}},computed:{hasScroller(){return!this.isMobile&&!this.$tabs.onDragSort&&this.scrollData.scrollWidth>this.scrollData.clientWidth},thumbWidth(){if(!this.hasScroller)return;const{clientWidth:t,scrollWidth:e}=this.scrollData;return t/e*t},thumbLeft(){if(!this.hasScroller)return;if(this.dragData)return this.dragData.thumbLeft;const{clientWidth:t,scrollWidth:e,scrollLeft:a}=this.scrollData;return(t-this.thumbWidth)*(a/(e-t))}},mounted(){this.update()},methods:{update(){const{container:t}=this.$refs;if(!t)return;const{clientWidth:e,scrollWidth:a,scrollLeft:n}=t;this.isMobile=/mobile/i.test(navigator.userAgent)||!c(),Object.assign(this.scrollData,{clientWidth:e,scrollWidth:a,scrollLeft:n})},scrollTo(t,e=!0){l({wrap:this.$refs.container,left:t,smooth:e})},scrollIntoView(t){u({el:t,wrap:this.$refs.container,inline:"center"})},isInView(t){const{container:e}=this.$refs,a=t.offsetLeft,n=e.scrollLeft;return!(a<n||a+t.clientWidth>n+e.clientWidth)},onWheel(t){const e=+new Date,a=e-(this.lastWheel||0)>100;if(!a)return;this.lastWheel=e;const{space:n}=this,r=t.deltaY<0;this.scrollTo(this.$refs.container.scrollLeft+(r?-n:n))},onDragStart(t){const{thumbLeft:e}=this;this.dragData={startPageX:t.pageX,startScrollLeft:this.$refs.container.scrollLeft,startThumbLeft:e,thumbLeft:e},document.addEventListener("mousemove",this.onDragMove),document.addEventListener("mouseup",this.onDragEnd)},onDragMove(t){const{dragData:e,thumbWidth:a}=this,{clientWidth:n,scrollWidth:r}=this.scrollData;let s=e.startThumbLeft+t.pageX-e.startPageX;const i=n-a;s<0?s=0:s>i&&(s=i),e.thumbLeft=s,this.scrollTo(s*(r-n)/(n-a),!1),t.preventDefault()},onDragEnd(t){this.dragData=null,document.removeEventListener("mousemove",this.onDragMove),document.removeEventListener("mouseup",this.onDragEnd),t.preventDefault()}}},Z=Y,Q=Object(V["a"])(Z,X,J,!1,null,null,null),tt=Q.exports,et=function(){var t=this,e=t._self._c;return e("div",{class:["router-tab__contextmenu",{"has-icon":t.hasIcon}],style:{left:t.data.left+"px",top:t.data.top+"px"}},t._l(t.menuList,(function(t){return e("tab-contextmenu-item",{key:t.id,attrs:{data:t}})})),1)},at=[],nt=function(){var t=this,e=t._self._c;return t.visible?e("a",{staticClass:"router-tab__contextmenu-item",class:t.menuClass,attrs:{"data-action":t.id,disabled:!t.enable,title:t.tips},on:{click:function(e){t.enable&&t.data.handler(t.context)}}},[t.icon?e("i",{staticClass:"router-tab__contextmenu-icon",class:t.icon}):t._e(),t._v(" "+t._s(t.title)+" ")]):t._e()},rt=[],st={name:"ContextmenuItem",inject:["$tabs","onTabEvent"],props:{data:{type:Object,required:!0}},computed:{context(){const{$tabs:t,$parent:e,onTabEvent:a}=this,{target:n,data:r}=e;return{$tabs:t,$menu:e,target:n,data:r,onTabEvent:a}},...h("data",{id:"",title(){return this.$tabs.langs.contextmenu[this.id]},icon:"",tips:"",class:{default:"",alias:"menuClass"},visible:!0,enable:!0},"context")}},it=st,ot=Object(V["a"])(it,nt,rt,!1,null,null,null),lt=ot.exports;const ut={refresh:{handler({data:t,$tabs:e}){e.refreshTab(t.id)}},refreshAll:{handler({$tabs:t}){t.refreshAll()}},close:{enable({target:t}){return t.closable},handler({data:t,$tabs:e}){e.closeTab(t.id)}},pin:{enable({$tabs:t}){return t.allowPin},handler({data:t,$tabs:e,onTabEvent:a}){const n=e.items.find(e=>e.id===t.id||e.to===t.id);n.pinned=!0,e.items.splice(e.items.indexOf(n),1),e.items.push(n),a("pin",{data:n,$tabs:e})}},unpin:{enable({target:t}){return t.unpinnable},handler({data:t,$tabs:e,onTabEvent:a}){const n=e.items.find(e=>e.id===t.id||e.to===t.id);n.pinned=!1,e.items.splice(e.items.indexOf(n),1),e.items.push(n),a("unpin",{data:n,$tabs:e})}},closeLefts:{enable({$menu:t}){return t.lefts.length},handler({$menu:t}){t.closeMulti(t.lefts)}},closeRights:{enable({$menu:t}){return t.rights.length},handler({$menu:t}){t.closeMulti(t.rights)}},closeOthers:{enable({$menu:t}){return t.others.length},handler({$menu:t}){t.closeMulti(t.others)}}};Object.entries(ut).forEach(([t,e])=>e.id=t);var ct=ut;const ht=["refresh","refreshAll","close","closeLefts","closeRights","closeOthers","pin"],dt=["refresh","close","unpin"];var pt={name:"TabContextmenu",components:{TabContextmenuItem:lt},inject:["$tabs"],props:{data:{type:[Boolean,Object]},menu:{type:Array,default:()=>ht},menuPinned:{type:Array,default:()=>dt}},computed:{target(){return this.tabMap[this.data.id]},menuList(){return(this.data.pinned?this.menuPinned:this.menu).map(t=>{if("string"===typeof t)return ct[t];if(t&&t.id){let e=ct[t.id];return e?{...e,...t}:t}}).filter(t=>t)},hasIcon(){return this.menuList.some(t=>t.icon)},tabMap(){return this.$tabs.$refs.tab.reduce((t,e)=>(t[e.id]=e,t),{})},tabs(){return this.$tabs.items.map(t=>this.tabMap[t.id])},lefts(){return this.tabs.slice(0,this.data.index).filter(t=>t.closable)},rights(){return this.tabs.slice(this.data.index+1).filter(t=>t.closable)},others(){return this.tabs.filter(t=>t.closable&&this.data.id!==t.id)}},mounted(){this.adjust()},methods:{async closeMulti(t){for(let{id:a}of t)try{await this.$tabs.removeTab(a)}catch(e){}this.$tabs.activeTab||this.$router.replace(this.target.to)},adjust(){const{clientWidth:t}=this.$el,e=window.innerWidth;this.data.left+t>e&&(this.data.left=e-t-5)}}},ft=pt,mt=Object(V["a"])(ft,et,at,!1,null,null,null),bt=mt.exports;const vt={name:"RouterTab",components:{RouterAlive:q,TabItem:G,TabScroll:tt,TabContextmenu:bt},mixins:[m,x,P,$,O,D,L],provide(){return{$tabs:this,allowDragPinned:this.allowDragPinned,allowClosePinned:this.allowClosePinned,hideTitlePinned:this.hideTitlePinned,onTabEvent:this.onTabEvent}},props:{allowPin:{type:Boolean,default:!1},allowDragPinned:{type:Boolean,default:!0},allowClosePinned:{type:Boolean,default:!0},hideTitlePinned:{type:Boolean,default:!1},useInheritance:{type:Boolean,default:!1},tabs:{type:Array,default:()=>[]},restore:{type:[Boolean,String],default:!1},restoreWatch:{type:Boolean,default:!1},pageScroller:{type:String,default:".router-tab__container"},defaultPage:[String,Object],tabTransition:{type:[String,Object],default:"router-tab-zoom"},pageTransition:{type:[String,Object],default:()=>({name:"router-tab-swap",mode:"out-in"})},contextmenu:{type:[Boolean,Array],default:!0},contextmenuPinned:{type:Array,default:()=>[]},dragsort:{type:Boolean,default:!0},append:{type:String,default:"last"},keepLastTab:{type:Boolean,default:!0},keepAlive:{type:Boolean,default:!0},maxAlive:{type:Number,default:0},reuse:{type:Boolean,default:!1},i18n:Function,lang:{type:[String,Object],default:"auto"},allowList:{type:Array,default:()=>[]}},data(){return{items:[],onDragSort:!1,aliveReady:!1}},computed:{pinnedGroup(){return this.items.filter(t=>t.pinned)},commonGroup(){return this.items.filter(t=>!t.pinned)},$alive(){return this.aliveReady?this.$refs.routerAlive:null},activeTabId(){return this.$alive?this.$alive.key:null},activeTabIndex(){return this.items.findIndex(t=>t.id===this.activeTabId)},activeTab(){return this.items[this.activeTabIndex]},basePath(){return this.$alive?this.$alive.basePath:"/"},defaultPath(){return this.defaultPage||this.basePath||"/"},tabTrans(){return p(this.tabTransition)},pageTrans(){return p(this.pageTransition)}},created(){vt.Vue.prototype.$tabs=this},destroyed(){const t=vt.Vue.prototype;t.$tabs===this&&(t.$tabs=null)},methods:{onAliveReady(t){this.$refs.routerAlive=t,this.aliveReady=!0,this.initTabs()},initTabs(){this.restoreTabs()||this.presetTabs()},presetTabs(t=this.tabs){let e={};this.items=t.map(t=>{t="string"===typeof t?{to:t}:t||i;const a=t.to&&this.matchRoute(t.to);if(a){const n=this.getRouteTab(a),r=n.id;if(!e[r])return delete t.id,e[r]=Object.assign(n,t)}}).filter(t=>!!t)},onAliveChange(t,e){const{items:a,lastMatchedKey:n}=this,{key:r}=e,s=a.findIndex(({id:t})=>t===r),i=this.getRouteTab(e);if(s>-1)("create"===t||"update"===t&&a[s].to!==e.$route.fullPath)&&this.$set(a,s,Object.assign(a.find(({id:t})=>t===r),i));else if("next"===this.append&&void 0!==n){const t=this.items.findIndex(t=>t.id===n);a.splice(t+1,0,i)}else a.push(i);this.lastMatchedKey=r},getRouteTab({key:t,$route:e,meta:a}){const n={...a},r=["title","tips","icon","closable","nodrag","pinned"];for(let s in n)if(r.includes(s)){const t=n[s];"function"===typeof t&&(n[s]=t(e))}return Object.assign(n,{id:t,to:e.fullPath})},async reload(){this.$alive.reload()},matchRoute(t){return this.$alive.matchRoute(t)},getRouteKey(t=this.$route){return this.matchRoute(t).key},getIdByPath(t,e=!0){if(!t)return;const a=this.matchRoute(t),{key:n}=a;if(e){const t=this.items.find(({to:t})=>d(t)===d(a.$route.fullPath));if(t)return n}return n},onTabEvent(t,e){this.$emit("on-"+t,e)}}};var gt=vt,yt=gt,xt=Object(V["a"])(yt,r,s,!1,null,null,null),Pt=xt.exports,_t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"router-tab-iframe-fake"})},Tt=[];const $t={key:t=>"iframe-"+t.params.src,title:t=>t.params.title,icon:t=>t.params.icon};var wt={name:"Iframe",inject:["$tabs"],meta:$t,props:{src:String,title:String,icon:String},computed:{url(){let t=decodeURIComponent(this.src);return/^(javascript|data):/i.test(t)||this.$tabs.allowList.length>0&&!this.$tabs.allowList.some(e=>{let a;if(/^\/.*\/([gimy]*)$/.test(e)){const t=e.replace(/.*\/([gimy]*)$/,"$1"),n=e.replace(new RegExp("^/(.*?)/"+t+"$"),"$1");a=new RegExp(n,t)}else a=new RegExp(e);return a.test(t)})?"about:blank":t}},async mounted(){let{url:t,$tabs:e}=this,{iframes:a}=e;a.includes(t)||a.push(t),e.currentIframe=t,await this.$nextTick(),this.$tabs.iframeMounted(t)},activated(){this.$tabs.currentIframe=this.url},deactivated(){this.$tabs.currentIframe=null},destroyed(){let{url:t}=this,{iframes:e}=this.$tabs,a=e.indexOf(t);a>-1&&e.splice(a,1)}},Ot=wt,kt=Object(V["a"])(Ot,_t,Tt,!1,null,null,null),St=kt.exports,Ct=[{path:"iframe/:src/:title?/:icon?",component:St,props:!0,meta:$t}];const It=(t,e,a)=>n=>{if(!t&&t._isDestroyed)return;const r=t.items.find(t=>t.id===e),s=a(r,"unload");return s&&"string"===typeof s?(n.preventDefault(),n.returnValue=s,t.activeTabId!==e&&t.open(r.to,!1,!1),s):void 0};function Dt(t){const e="string"===typeof t?{title:t}:t,{activeTab:a}=this.$tabs||i;if(e&&a)for(const n in e)["id","to"].includes(n)||this.$set(a,n,e[n])}var Lt={watch:{routeTab:{handler(t){t&&!this._inactive&&Dt.call(this,t)},deep:!0,immediate:!0}},mounted(){const{$tabs:t}=this,{beforePageLeave:e}=this.$vnode&&this.$vnode.componentOptions.Ctor.options||i;t&&e&&window.addEventListener("beforeunload",this._beforeunload=It(t,t.activeTabId,e.bind(this)))},activated(){this.routeTab&&Dt.call(this,this.routeTab)},destroyed(){this._beforeunload&&window.removeEventListener("beforeunload",this._beforeunload)}};a("751c"),a("a85e");Pt.install=function t(e){t.installed||(Pt.Vue=e,t.installed=!0,e.component(Pt.name,Pt),e.mixin(Lt))},"undefined"!==typeof window&&window.Vue&&window.Vue.use(Pt);var Rt=Pt,jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-ct",class:{"sidebar-open":t.sidebarOpen}},[e("app-header",{on:{"sidebar-change":function(e){t.sidebarOpen=!t.sidebarOpen}}}),e("div",{staticClass:"app-bd"},[e("div",{staticClass:"app-sd-mask",on:{click:function(e){t.sidebarOpen=!1}}}),e("app-aside"),e("main",{staticClass:"app-main"},[e("router-view")],1)],1)],1)},At=[],Et=function(){var t=this,e=t._self._c;return e("header",{staticClass:"app-hd"},[e("div",{staticClass:"app-home"},[e("a",{staticClass:"rt-icon-menu toggle-side",on:{click:function(e){return t.$emit("sidebar-change")}}}),e("img",{staticClass:"site-logo",attrs:{src:"img/logo.png",alt:"Vue Router Tab - logo"}}),t._m(0)]),e("site-link")],1)},Mt=[function(){var t=this,e=t._self._c;return e("h2",{staticClass:"site-title"},[e("a",{attrs:{href:"../"}},[t._v("Vue Router Tab")]),t._v(" - Demo")])}],Wt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"site-link"},t._l(t.links,(function({label:t,icon:a,url:n},r){return e("a",{key:r,class:"rt-icon-"+a,attrs:{href:n,title:t,target:"_blank"}})})),0)},Nt=[],Bt={name:"SiteLink",data(){return{links:[{label:"GitHub",icon:"github",url:"https://github.com/bhuh12/vue-router-tab"},{label:"Gitee",icon:"gitee",url:"https://gitee.com/bhuh12/vue-router-tab"},{label:"Documentation and API",icon:"api",url:"/vue-router-tab/"},{label:"Issues",icon:"feedback",url:"https://github.com/bhuh12/vue-router-tab/issues"}]}}},Ut=Bt,Kt=(a("979c"),Object(V["a"])(Ut,Wt,Nt,!1,null,"07f7da61",null)),Vt=Kt.exports,Ht={name:"AppHeader",components:{SiteLink:Vt}},qt=Ht,Ft=(a("eb81"),Object(V["a"])(qt,Et,Mt,!1,null,"50515c82",null)),zt=Ft.exports,Gt=function(){var t=this,e=t._self._c;return e("aside",{staticClass:"app-sd"},[e("div",{staticClass:"app-sd-menu"},t._l(t.menu,(function(t,a){return e("menu-item",{key:a,attrs:{data:t}})})),1),e("footer",{staticClass:"app-sd-ft"},[e("site-link")],1)])},Xt=[],Jt=function(){var t=this,e=t._self._c;return t.data.to?e("router-link",{staticClass:"menu-item",attrs:{to:t.data.to}},[t._v(" "+t._s(t.data.text)+" ")]):t.data.children&&t.data.children.length?e("div",{staticClass:"menu-group"},[e("h3",{staticClass:"menu-title"},[t._v(" "+t._s(t.data.text)+" ")]),e("div",{staticClass:"menu-list"},t._l(t.data.children,(function(t,a){return e("menu-item",{key:a,attrs:{data:t}})})),1)]):t._e()},Yt=[],Zt={name:"MenuItem",props:{data:Object}},Qt=Zt,te=(a("af57"),Object(V["a"])(Qt,Jt,Yt,!1,null,"2b479bb8",null)),ee=te.exports,ae=[{text:"RouterTab Configuration",children:[{text:"Default configuration",to:"/default"},{text:"Initial tabs",to:"/initial-tabs"},{text:"Refresh the restore tab",to:"/restore"},{text:"Iframe tab",to:"/iframe"}]},{text:"Personalization",children:[{text:"Transition effect",to:"/transition"},{text:"Slot",to:"/slot"},{text:"Context menu",to:"/contextmenu"},{text:"Drag Sort - disable",to:"/dragsort"},{text:"Insertion position for new tab",to:"/append"},{text:"Close last tab",to:"/close-last-tab"},{text:"Scroll position",to:"/page-scroller/"}]},{text:"Cache control",children:[{text:"Tab Rules",to:"/default/rule"},{text:"Tab caching - disable",to:"/default/no-cache"},{text:"Maximum number of caches",to:"/max-alive"},{text:"Reuse components",to:"/reuse"}]},{text:"Page function",children:[{text:"Dynamic tab configuration",to:"/default/tab-dynamic"},{text:"Confirmation of leaving the page",to:"/initial-tabs/page-leave"},{text:"Nested routes",to:"/default/nest/1"}]},{text:"Multilingual support",children:[{text:"Tab internationalization",to:"/i18n"},{text:"Component language",to:"/lang-en"},{text:"Component custom language",to:"/lang-custom"}]}],ne={name:"AppAside",components:{MenuItem:ee,SiteLink:Vt},data(){return{menu:ae}}},re=ne,se=(a("10ab"),Object(V["a"])(re,Gt,Xt,!1,null,"65a08451",null)),ie=se.exports,oe={name:"App",components:{AppHeader:zt,AppAside:ie},data(){return{sidebarOpen:!1}},watch:{$route(){this.sidebarOpen=!1}}},le=oe,ue=(a("124c"),a("83fa"),Object(V["a"])(le,jt,At,!1,null,"b66c0a72",null)),ce=ue.exports,he=a("8c4f");const de=t=>()=>a("1a5d")("./"+t+".vue");var pe={path:"404",component:de("404"),meta:{title:"Page not found",icon:"rt-icon-warning"}},fe=t=>{t.children.push(pe,...Ct)},me=()=>[{path:"page/:id",component:de("Page"),meta:{title:t=>"Page"+t.params.id,icon:"rt-icon-doc",key:"path"}},{path:"no-cache",redirect:"no-cache/1"},{path:"no-cache/:id",component:de("Page"),meta:{title:t=>"No cache page "+t.params.id,keepAlive:!1,icon:"rt-icon-doc",key:"path"}},{path:"rule",redirect:"rule/default/a/1"},{path:"rule/default",redirect:"rule/default/a/1"},{path:"rule/default/:catalog/:type",component:de("Rule"),meta:{title:t=>`Rule:default-${t.params.catalog}/${t.params.type}`,icon:"rt-icon-log"}},{path:"rule/path",redirect:"rule/path/a/1"},{path:"rule/path/:catalog/:type",component:de("Rule"),meta:{title:t=>`Rule:path-${t.params.catalog}/${t.params.type}`,icon:"rt-icon-log",key:"path"}},{path:"rule/fullPath",redirect:"rule/fullPath/a/1"},{path:"rule/fullPath/:catalog/:type",component:de("Rule"),meta:{title:t=>`Rule:fullPath-${t.params.catalog}/${t.params.type}`,icon:"rt-icon-log",key:"fullPath"}},{path:"rule/custom",redirect:"rule/custom/a/1"},{path:"rule/custom/:catalog/:type",component:de("Rule"),meta:{title:t=>`Rule:custom-${t.params.catalog}/${t.params.type}`,icon:"rt-icon-log",key:t=>"/rule/custom/"+t.params.catalog}},{path:"tab-dynamic",component:de("TabDynamic"),meta:{title:"Dynamic tab",icon:"rt-icon-log"}},{path:"page-leave",component:de("PageLeave"),meta:{title:"Confirmation of leaving the page",icon:"rt-icon-contact"}},{path:"nest/:nestId",component:de("Nest"),redirect(t){return t.fullPath+"/page1"},meta:{title:"Nested routes",icon:"rt-icon-doc"},children:[{path:"page1",component:de("Page1")},{path:"page2",component:de("Page2")}]}];const be=t=>t.replace(/([a-z])([A-Z])/g,(t,e,a)=>e+"-"+a.toLowerCase()).replace(/^([A-Z])/,(t,e)=>e.toLowerCase()),ve={Reuse:{redirect:"rule/default/"},Iframe:{redirect:"operate",children:[{path:"operate",component:de("IframeOperate"),meta:{title:"Iframe tab"}}]},I18n:{redirect:"lang",children:[{path:"lang",component:de("I18n"),meta:{title:"i18n:i18n",icon:"rt-icon-doc"}},{path:"page/:id",component:de("Page"),meta:{title:"i18n:page",icon:"rt-icon-doc"}}]},PageScroller:{redirect:"page/1",children:[{path:"page/:id",component:de("Page"),meta:{title:t=>"Page external scrolling "+t.params.id,icon:"rt-icon-doc",key:"path"}},{path:"scroll-position",component:de("ScrollPosition"),meta:{title:"Scroll inside page",icon:"rt-icon-doc"}},{path:"scroll-multi",component:de("ScrollMulti"),meta:{title:"Multiple scrolling",icon:"rt-icon-doc"}},{path:"scroll-async",component:de("ScrollAsync"),meta:{title:"Asynchronous scrolling",icon:"rt-icon-doc"}}]}},ge=a("acb2"),ye=ge.keys().map(t=>{const e=t.match(/\w+/)[0],a="/"+be(e)+"/",{redirect:n,children:r}=ve[e]||{};return{path:a,component:ge(t).default,redirect:a+(n||"page/1"),children:r||me()}});ye.forEach(fe);var xe=ye;n["a"].use(he["a"]);const Pe={...pe,path:"/404"},_e=[{path:"/",redirect:"/default/page/1"},...xe,Pe,{path:"*",redirect(t){const e=/^(\/[^/]+\/)/.exec(t.path);if(e){const t=e[1],a=Te.options.routes.find(e=>e.path===t);if(a)return t+"404"}return"/404"}}],Te=new he["a"]({routes:_e});var $e=Te;Object.assign(n["a"].config,{productionTip:!1,devtools:!0}),n["a"].use(Rt),new n["a"]({router:$e,render:t=>t(ce)}).$mount("#app")},"59c8":function(t,e,a){},"5b57":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{"keep-last-tab":!1}})},r=[],s=a("2877"),i={},o=Object(s["a"])(i,n,r,!1,null,null,null);e["default"]=o.exports},"5cd9":function(t,e,a){"use strict";a("e95a")},"695e":function(t,e,a){},"751c":function(t,e,a){},"7a6e":function(t,e,a){},"7a8a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{append:"next"}})},r=[],s=a("2877"),i={},o=Object(s["a"])(i,n,r,!1,null,null,null);e["default"]=o.exports},"83fa":function(t,e,a){"use strict";a("3416")},"89cb":function(t,e,a){"use strict";e["a"]={data(){return{fullscreen:!1}},watch:{async fullscreen(){await this.$nextTick(),this.$tabs.adjust()}}}},9183:function(t,e,a){},"979c":function(t,e,a){"use strict";a("3888")},a85e:function(t,e,a){},acb2:function(t,e,a){var n={"./Append.vue":"7a8a","./CloseLastTab.vue":"5b57","./Contextmenu.vue":"4ccb","./Default.vue":"1e27","./Dragsort.vue":"c32e","./I18n.vue":"38a6","./Iframe.vue":"00d4","./InitialTabs.vue":"4440","./LangCustom.vue":"f511","./LangEn.vue":"cca5","./MaxAlive.vue":"d76f","./PageScroller.vue":"0faf","./Restore.vue":"48f6","./Reuse.vue":"316d","./Slot.vue":"02dd","./Transition.vue":"e7fc"};function r(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="acb2"},af57:function(t,e,a){"use strict";a("695e")},b07d:function(t,e,a){"use strict";a("7a6e")},b13e:function(t,e,a){var n={"./en.js":"3dec","./ru.js":"110d","./zh.js":"0d3e"};function r(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="b13e"},c32e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{dragsort:!1}})},r=[],s=a("2877"),i={},o=Object(s["a"])(i,n,r,!1,null,null,null);e["default"]=o.exports},ca11:function(t,e,a){"use strict";a("59c8")},cca5:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{lang:"en"}})},r=[],s={name:"Language",data(){return{lang:{tab:{untitled:"Untitled Page"},contextmenu:{refresh:"Refresh This",refreshAll:"Refresh All",close:"Close This",closeLefts:"Close to the Left",closeRights:"Close to the Right",closeOthers:"Close Others",pin:"Pin",unpin:"Unpin"},msg:{keepLastTab:"Keep at least 1 tab"}}}}},i=s,o=a("2877"),l=Object(o["a"])(i,n,r,!1,null,null,null);e["default"]=l.exports},d76f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{"max-alive":3}})},r=[],s=a("2877"),i={},o=Object(s["a"])(i,n,r,!1,null,null,null);e["default"]=o.exports},e7fc:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{"page-transition":"page-fade","tab-transition":"tab-scale"}})},r=[],s=(a("ca11"),a("2877")),i={},o=Object(s["a"])(i,n,r,!1,null,"1e0284d4",null);e["default"]=o.exports},e95a:function(t,e,a){},eb81:function(t,e,a){"use strict";a("40d7")},f511:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("router-tab",{attrs:{lang:t.customLanguage}})},r=[],s={name:"LangCustom",data(){return{customLanguage:{tab:{untitled:"Untitled Page"},contextmenu:{refresh:"Refresh This",refreshAll:"Refresh All",close:"Close This",closeLefts:"Close to the Left",closeRights:"Close to the Right",closeOthers:"Close Others",pin:"Pin",unpin:"Unpin"},msg:{keepLastTab:"Keep at least 1 tab"}}}}},i=s,o=a("2877"),l=Object(o["a"])(i,n,r,!1,null,null,null);e["default"]=l.exports}});
//# sourceMappingURL=app.b10a59a1.js.map