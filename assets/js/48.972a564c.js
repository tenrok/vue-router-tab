(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{342:function(e,o,t){"use strict";t.r(o);var v=t(12),_=Object(v.a)({},(function(){var e=this,o=e._self._c;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"solutions"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#solutions"}},[e._v("#")]),e._v(" Solutions")]),e._v(" "),o("p",[e._v("Problems that we came across and solutions to them. If you have any better ideas, please feel free to propose a PR or issue.")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("A route can create different caches with different "),o("code",[e._v("route.params")]),e._v(" or "),o("code",[e._v("route.query")]),e._v(":")]),e._v(" "),o("p",[e._v("set a "),o("code",[e._v("key")]),e._v(" prop to "),o("code",[e._v("<router-view>")]),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("Caches control with "),o("code",[e._v("<keep-alive>")]),e._v(":")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Get instance of "),o("code",[e._v("<keep-alive>")]),e._v(":")]),e._v(" "),o("p",[o("code",[e._v("this._vnode.children[0].child._vnode.componentInstance")])])]),e._v(" "),o("li",[o("p",[e._v("Match and remove cache.")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Match: "),o("code",[e._v("$alive.cache[i].data.key === key")])])]),e._v(" "),o("li",[o("p",[e._v("Destroy: "),o("code",[e._v("$alive.cache[key].componentInstance.$destroy()")])])]),e._v(" "),o("li",[o("p",[e._v("Remove "),o("code",[e._v("key")]),e._v(" from "),o("code",[e._v("$alive.keys")]),e._v(".")])])])])])]),e._v(" "),o("li",[o("p",[e._v("Refresh page component.")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Remove cache of page.")])]),e._v(" "),o("li",[o("p",[e._v("Hide "),o("code",[e._v("<router-view>")]),e._v(" by "),o("code",[e._v("v-if")]),e._v(" and show it after transition ends or "),o("code",[e._v("nextTick")]),e._v(".")])])])]),e._v(" "),o("li",[o("p",[e._v("Get the routing depth where the current component is:")]),e._v(" "),o("p",[e._v("Recursively find the corresponding value of the nearest parent component with "),o("code",[e._v("$vnode.data.routerViewDepth")]),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("Nested Routes share same tabs:")]),e._v(" "),o("p",[e._v("Get "),o("code",[e._v("path")]),e._v(" of current matched route from "),o("code",[e._v("$route.matched")]),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("Visit page "),o("strong",[e._v("a")]),e._v(" from a keep-alive nested route, and go to a page of another route, then visit page "),o("strong",[e._v("b")]),e._v(" from the same nested route. The displayed page is still "),o("strong",[e._v("a")]),e._v(":")]),e._v(" "),o("p",[e._v("Run "),o("code",[e._v("$forceUpdate")]),e._v(" to force update the component on the page "),o("code",[e._v("activated")]),e._v(".")]),e._v(" "),o("p",[e._v("Side effect: Subroutine page "),o("strong",[e._v("a")]),e._v(" will still trigger the "),o("code",[e._v("activated")]),e._v(" hook")])]),e._v(" "),o("li",[o("p",[e._v("Iframe tab gets reloaded on switching:")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Extract "),o("code",[e._v("<iframe>")]),e._v(" to outer layer of "),o("code",[e._v("<router-view>")]),e._v(", and show/hide it via "),o("code",[e._v("v-show")]),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("Create a separate iframe route component, and manage "),o("code",[e._v("<iframe>")]),e._v(" dom element in lifecycle hook methods, i.e., add, show, hide and remove.")])])])]),e._v(" "),o("li",[o("p",[e._v("Js bundle size gets too big:")]),e._v(" "),o("p",[e._v("When building as lib, set "),o("code",[e._v("useBuiltIns")]),e._v(" to "),o("code",[e._v("false")]),e._v(" in "),o("code",[e._v("babel.config.js")]),e._v(", which means not including Polyfill in final bundle.")])])])])}),[],!1,null,null,null);o.default=_.exports}}]);